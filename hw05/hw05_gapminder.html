<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>hw05_gapminder.Rmd</title>

<script src="hw05_gapminder_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="hw05_gapminder_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="hw05_gapminder_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="hw05_gapminder_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="hw05_gapminder_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="hw05_gapminder_files/navigation-1.1/tabsets.js"></script>
<link href="hw05_gapminder_files/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="hw05_gapminder_files/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">



<h1 class="title toc-ignore">hw05_gapminder.Rmd</h1>

</div>


<pre class="r"><code>suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(ggplot2))
suppressPackageStartupMessages(library(knitr))
suppressPackageStartupMessages(library(kableExtra))
suppressPackageStartupMessages(library(dplyr))
options(knitr.table.format = &quot;html&quot;)</code></pre>
<pre class="r"><code>tableFormat&lt;-function(table,title=&quot;&quot;){
  table %&gt;%      
    kable(&quot;html&quot;,caption=title, align=c(rep(&#39;c&#39;, 5))) %&gt;%
    kable_styling(bootstrap_options = 
                    c(&quot;striped&quot;, &quot;hover&quot;,  &quot;responsive&quot;),
                  position=&quot;center&quot;,font_size=14)
}</code></pre>
<p>Lets update the theme of ggplot to make title of all plots centered.</p>
<pre class="r"><code>theme_update(plot.title = element_text(hjust = 0.5))</code></pre>
<div id="task-1" class="section level2">
<h2>Task 1</h2>
<div id="factor-management" class="section level3">
<h3>Factor Management</h3>
<div id="gapminder-version" class="section level4">
<h4>Gapminder version</h4>
<p>First lets load the gapminder dataset</p>
<pre class="r"><code>suppressPackageStartupMessages(library(gapminder))</code></pre>
<p>Now lets drop the continent oceania</p>
<pre class="r"><code>gap_dropped&lt;-subset(gapminder,continent!=&quot;Oceania&quot;)</code></pre>
<p>Now we have two datasets. The original gapminder dataset and the gap_dropped with “Oceania” dropped.</p>
<p>Lets check the dimensions of both the datasets</p>
<pre class="r"><code>dim(gapminder)</code></pre>
<pre><code>## [1] 1704    6</code></pre>
<pre class="r"><code>dim(gap_dropped)</code></pre>
<pre><code>## [1] 1680    6</code></pre>
<p>So ,it shows that 24 entries belong to continent “Oceania”. Lets check if this is indeed true.</p>
<pre class="r"><code>nrow(gapminder[gapminder$continent==&quot;Oceania&quot;,])</code></pre>
<pre><code>## [1] 24</code></pre>
<p>Now lets check the levels of factor country in both the datasets.</p>
<pre class="r"><code>length(levels(gapminder$country))</code></pre>
<pre><code>## [1] 142</code></pre>
<pre class="r"><code>length(levels(gap_dropped$country))</code></pre>
<pre><code>## [1] 142</code></pre>
<p>This shows that some factor levels are remaining even though they are unused in gap_dropped. Lets remove this using droplevels() function from base R.</p>
<pre class="r"><code>length(levels(droplevels(gap_dropped$country)))</code></pre>
<pre><code>## [1] 140</code></pre>
<p>Thus two levels of country corrosponding to Australia and New Zealand are dropped in the gap_dropped.</p>
<p><em>This can be done in a couple of other ways.</em></p>
<ol style="list-style-type: decimal">
<li><strong>Base R</strong><br\> We can factorize the column after subsetting the data frame.</li>
</ol>
<pre class="r"><code>length(levels(gap_dropped$continent))</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>gap_dropped$continent&lt;-factor(gap_dropped$continent)
#gap_dropped$continent&lt;-as.factor(as.character(gap_dropped$continent))

length(levels(gap_dropped$continent))</code></pre>
<pre><code>## [1] 4</code></pre>
<p>Thus the levels for factor variable continent in gap_dropped is changed.</p>
<ol start="2" style="list-style-type: decimal">
<li><strong>gdata package</strong><br\> Dropping of levels can be done for all the variables at once using drop.levels() function from gdata package.</li>
</ol>
<pre class="r"><code>suppressPackageStartupMessages(library(gdata))

gapminder[gapminder$continent!=&quot;Oceania&quot;,]%&gt;%
  drop.levels()%&gt;%
  sapply(nlevels)</code></pre>
<pre><code>##   country continent      year   lifeExp       pop gdpPercap 
##       140         4         0         0         0         0</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><strong>forcats package</strong><br\> Dropping of levels can be done using droplevels() function in forcats() package. &gt; The base function droplevels() operates on all the factors in a data frame or on a single factor. The function forcats::fct_drop() operates on a factor.</li>
</ol>
<pre class="r"><code>suppressPackageStartupMessages(library(forcats))

gapminder[gapminder$continent!=&quot;Oceania&quot;,]$continent%&gt;%
  fct_drop() %&gt;%
  nlevels()</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>gapminder[gapminder$continent!=&quot;Oceania&quot;,]%&gt;%
  droplevels()%&gt;%
  sapply(nlevels)</code></pre>
<pre><code>##   country continent      year   lifeExp       pop gdpPercap 
##       140         4         0         0         0         0</code></pre>
</div>
</div>
<div id="reordering-levels-of-factor-variables" class="section level3">
<h3>Reordering levels of factor variables</h3>
<div id="continent-variable" class="section level4">
<h4>Continent Variable</h4>
<p><strong>First, lets reorder levels of continent variable by frequency.</strong></p>
<p>We order continent by frequency, forwards and backwards.</p>
<pre class="r"><code>fct_count(gapminder$continent)</code></pre>
<pre><code>## # A tibble: 5 × 2
##          f     n
##     &lt;fctr&gt; &lt;int&gt;
## 1   Africa   624
## 2 Americas   300
## 3     Asia   396
## 4   Europe   360
## 5  Oceania    24</code></pre>
<pre class="r"><code>## order by frequency (highest first)
gapminder$continent %&gt;% 
  fct_infreq()%&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Africa&quot;   &quot;Asia&quot;     &quot;Europe&quot;   &quot;Americas&quot; &quot;Oceania&quot;</code></pre>
<pre class="r"><code>## backwards!
gapminder$continent %&gt;% 
  fct_infreq() %&gt;%
  fct_rev() %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Oceania&quot;  &quot;Americas&quot; &quot;Europe&quot;   &quot;Asia&quot;     &quot;Africa&quot;</code></pre>
<p>Now we order continent by another variable forwards and backwards. Lets use different summarizing function such as mean,median, minimum value.</p>
<pre class="r"><code>#order by median of lifeExp
fct_reorder(gapminder$continent, gapminder$lifeExp) %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Africa&quot;   &quot;Asia&quot;     &quot;Americas&quot; &quot;Europe&quot;   &quot;Oceania&quot;</code></pre>
<pre class="r"><code>#order by min of gdpPercap
fct_reorder(gapminder$continent, gapminder$gdpPercap, min) %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Africa&quot;   &quot;Asia&quot;     &quot;Europe&quot;   &quot;Americas&quot; &quot;Oceania&quot;</code></pre>
<pre class="r"><code>#backwards
fct_reorder(gapminder$continent, gapminder$lifeExp,.desc=TRUE) %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Oceania&quot;  &quot;Europe&quot;   &quot;Americas&quot; &quot;Asia&quot;     &quot;Africa&quot;</code></pre>
<p>Now lets reorder country levels based on mean of population variable</p>
<pre class="r"><code>fct_reorder(gapminder$country, gapminder$pop, mean) %&gt;% 
  levels()%&gt;%
  head()</code></pre>
<pre><code>## [1] &quot;Sao Tome and Principe&quot; &quot;Iceland&quot;               &quot;Djibouti&quot;             
## [4] &quot;Equatorial Guinea&quot;     &quot;Comoros&quot;               &quot;Bahrain&quot;</code></pre>
</div>
</div>
<div id="importance-of-reordering-with-plots" class="section level3">
<h3>Importance of reordering with plots</h3>
<p>Lets understand the importance of reordering the factor variables by plotting mean population of each country in Americas continent with and without reordering the factor variable.</p>
<pre class="r"><code>h_gap &lt;- gapminder%&gt;%
           filter(continent==&quot;Americas&quot;)%&gt;%
           group_by(country)%&gt;%
           summarize(mean_pop=mean(pop))%&gt;%
           arrange(mean_pop)

tableFormat(h_gap,&quot;Mean Population of Countries in America&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Mean Population of Countries in America
</caption>
<thead>
<tr>
<th style="text-align:center;">
country
</th>
<th style="text-align:center;">
mean_pop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Trinidad and Tobago
</td>
<td style="text-align:center;">
1006470
</td>
</tr>
<tr>
<td style="text-align:center;">
Panama
</td>
<td style="text-align:center;">
1985290
</td>
</tr>
<tr>
<td style="text-align:center;">
Jamaica
</td>
<td style="text-align:center;">
2135123
</td>
</tr>
<tr>
<td style="text-align:center;">
Costa Rica
</td>
<td style="text-align:center;">
2400008
</td>
</tr>
<tr>
<td style="text-align:center;">
Uruguay
</td>
<td style="text-align:center;">
2912487
</td>
</tr>
<tr>
<td style="text-align:center;">
Nicaragua
</td>
<td style="text-align:center;">
3040975
</td>
</tr>
<tr>
<td style="text-align:center;">
Puerto Rico
</td>
<td style="text-align:center;">
3115178
</td>
</tr>
<tr>
<td style="text-align:center;">
Paraguay
</td>
<td style="text-align:center;">
3555486
</td>
</tr>
<tr>
<td style="text-align:center;">
Honduras
</td>
<td style="text-align:center;">
3920593
</td>
</tr>
<tr>
<td style="text-align:center;">
El Salvador
</td>
<td style="text-align:center;">
4343441
</td>
</tr>
<tr>
<td style="text-align:center;">
Haiti
</td>
<td style="text-align:center;">
5401634
</td>
</tr>
<tr>
<td style="text-align:center;">
Bolivia
</td>
<td style="text-align:center;">
5610395
</td>
</tr>
<tr>
<td style="text-align:center;">
Dominican Republic
</td>
<td style="text-align:center;">
5735697
</td>
</tr>
<tr>
<td style="text-align:center;">
Guatemala
</td>
<td style="text-align:center;">
6858695
</td>
</tr>
<tr>
<td style="text-align:center;">
Ecuador
</td>
<td style="text-align:center;">
8212243
</td>
</tr>
<tr>
<td style="text-align:center;">
Cuba
</td>
<td style="text-align:center;">
9232576
</td>
</tr>
<tr>
<td style="text-align:center;">
Chile
</td>
<td style="text-align:center;">
11205725
</td>
</tr>
<tr>
<td style="text-align:center;">
Venezuela
</td>
<td style="text-align:center;">
15129801
</td>
</tr>
<tr>
<td style="text-align:center;">
Peru
</td>
<td style="text-align:center;">
17559093
</td>
</tr>
<tr>
<td style="text-align:center;">
Canada
</td>
<td style="text-align:center;">
24462967
</td>
</tr>
<tr>
<td style="text-align:center;">
Colombia
</td>
<td style="text-align:center;">
27256100
</td>
</tr>
<tr>
<td style="text-align:center;">
Argentina
</td>
<td style="text-align:center;">
28602240
</td>
</tr>
<tr>
<td style="text-align:center;">
Mexico
</td>
<td style="text-align:center;">
68414297
</td>
</tr>
<tr>
<td style="text-align:center;">
Brazil
</td>
<td style="text-align:center;">
122312127
</td>
</tr>
<tr>
<td style="text-align:center;">
United States
</td>
<td style="text-align:center;">
228211233
</td>
</tr>
</tbody>
</table>
</div>
<div id="unordered-plot-of-mean-pop-for-each-country" class="section level3">
<h3>Unordered Plot of Mean pop for Each Country</h3>
<pre class="r"><code>ggplot(h_gap,aes(x=mean_pop,y=country))+
  geom_point(color=&quot;blue&quot;)+
  theme(
        plot.title = element_text(color=&quot;red&quot;, size=18, face=&quot;bold.italic&quot;),
        axis.title.x = element_text(color=&quot;green&quot;, size=14,
                                    face=&quot;bold&quot;,hjust=0.5),
        axis.title.y = element_text(color=&quot;#993333&quot;, size=14,
                                    face=&quot;bold&quot;,vjust=0.5),
        axis.ticks.y = element_blank(),
        axis.text.x = element_text(angle = 90)
        )+
  scale_x_log10(breaks=c(10^6,5*10^6,10^7,20*10^6,40*10^6,
                         80*10^6,160*10^6,220*10^6),
                labels = function(x) format(x, scientific = FALSE))+
  xlab(&quot;Mean Population&quot;)+
  ylab(&quot;Countries in America&quot;)+
  ggtitle(&quot;Unordered Plot of Mean Population&quot;)</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
<div id="ordered-plot-of-mean-pop-for-each-country" class="section level3">
<h3>Ordered Plot of Mean pop for Each Country</h3>
<pre class="r"><code>ggplot(h_gap,aes(x=mean_pop,y=fct_reorder(country,mean_pop,.desc = TRUE)))+
  geom_point(color=&quot;blue&quot;)+
  theme(
        plot.title = element_text(color=&quot;red&quot;, size=18, face=&quot;bold.italic&quot;),
        axis.title.x = element_text(color=&quot;green&quot;, size=14,
                                    face=&quot;bold&quot;,hjust=0.5),
        axis.title.y = element_text(color=&quot;#993333&quot;, size=14,
                                    face=&quot;bold&quot;,vjust=0.5),
        axis.ticks.y = element_blank(),
        axis.text.x = element_text(angle = 90)
        )+
  scale_x_log10(breaks=c(10^6,5*10^6,10^7,20*10^6,40*10^6,
                         80*10^6,160*10^6,220*10^6),
                labels = function(x) format(x, scientific = FALSE))+
  xlab(&quot;Mean Population&quot;)+
  ylab(&quot;Countries in America&quot;)+
  ggtitle(&quot;Ordered Plot of Mean Population&quot;)</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Now lets take use of fct_reorder2() function. It is useful when one quantitative variable is plotted against another and the factor varible gives the color. This way the legend appears in some order as the data! Contrast the legend on the two plots below.</p>
<pre class="r"><code>gg_gap &lt;- gapminder%&gt;%
                group_by(continent,year)%&gt;%
                summarize(mean_gdpPercap=mean(gdpPercap))%&gt;%
                arrange(continent, year, mean_gdpPercap)

tableFormat(gg_gap,&quot;Mean GDP Per Capita Over Years&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Mean GDP Per Capita Over Years
</caption>
<thead>
<tr>
<th style="text-align:center;">
continent
</th>
<th style="text-align:center;">
year
</th>
<th style="text-align:center;">
mean_gdpPercap
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1952
</td>
<td style="text-align:center;">
1252.572
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1957
</td>
<td style="text-align:center;">
1385.236
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1962
</td>
<td style="text-align:center;">
1598.079
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1967
</td>
<td style="text-align:center;">
2050.364
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1972
</td>
<td style="text-align:center;">
2339.616
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1977
</td>
<td style="text-align:center;">
2585.939
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1982
</td>
<td style="text-align:center;">
2481.593
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1987
</td>
<td style="text-align:center;">
2282.669
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1992
</td>
<td style="text-align:center;">
2281.810
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
1997
</td>
<td style="text-align:center;">
2378.760
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
2002
</td>
<td style="text-align:center;">
2599.385
</td>
</tr>
<tr>
<td style="text-align:center;">
Africa
</td>
<td style="text-align:center;">
2007
</td>
<td style="text-align:center;">
3089.033
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1952
</td>
<td style="text-align:center;">
4079.063
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1957
</td>
<td style="text-align:center;">
4616.044
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1962
</td>
<td style="text-align:center;">
4901.542
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1967
</td>
<td style="text-align:center;">
5668.253
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1972
</td>
<td style="text-align:center;">
6491.334
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1977
</td>
<td style="text-align:center;">
7352.007
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1982
</td>
<td style="text-align:center;">
7506.737
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1987
</td>
<td style="text-align:center;">
7793.400
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1992
</td>
<td style="text-align:center;">
8044.934
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
1997
</td>
<td style="text-align:center;">
8889.301
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
2002
</td>
<td style="text-align:center;">
9287.677
</td>
</tr>
<tr>
<td style="text-align:center;">
Americas
</td>
<td style="text-align:center;">
2007
</td>
<td style="text-align:center;">
11003.032
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1952
</td>
<td style="text-align:center;">
5195.484
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1957
</td>
<td style="text-align:center;">
5787.733
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1962
</td>
<td style="text-align:center;">
5729.370
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1967
</td>
<td style="text-align:center;">
5971.173
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1972
</td>
<td style="text-align:center;">
8187.469
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1977
</td>
<td style="text-align:center;">
7791.314
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1982
</td>
<td style="text-align:center;">
7434.135
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1987
</td>
<td style="text-align:center;">
7608.227
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1992
</td>
<td style="text-align:center;">
8639.690
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
1997
</td>
<td style="text-align:center;">
9834.093
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
2002
</td>
<td style="text-align:center;">
10174.090
</td>
</tr>
<tr>
<td style="text-align:center;">
Asia
</td>
<td style="text-align:center;">
2007
</td>
<td style="text-align:center;">
12473.027
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1952
</td>
<td style="text-align:center;">
5661.057
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1957
</td>
<td style="text-align:center;">
6963.013
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1962
</td>
<td style="text-align:center;">
8365.487
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1967
</td>
<td style="text-align:center;">
10143.824
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1972
</td>
<td style="text-align:center;">
12479.575
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1977
</td>
<td style="text-align:center;">
14283.979
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1982
</td>
<td style="text-align:center;">
15617.897
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1987
</td>
<td style="text-align:center;">
17214.311
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1992
</td>
<td style="text-align:center;">
17061.568
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
1997
</td>
<td style="text-align:center;">
19076.782
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
2002
</td>
<td style="text-align:center;">
21711.732
</td>
</tr>
<tr>
<td style="text-align:center;">
Europe
</td>
<td style="text-align:center;">
2007
</td>
<td style="text-align:center;">
25054.482
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1952
</td>
<td style="text-align:center;">
10298.086
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1957
</td>
<td style="text-align:center;">
11598.522
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1962
</td>
<td style="text-align:center;">
12696.452
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1967
</td>
<td style="text-align:center;">
14495.022
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1972
</td>
<td style="text-align:center;">
16417.333
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1977
</td>
<td style="text-align:center;">
17283.958
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1982
</td>
<td style="text-align:center;">
18554.710
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1987
</td>
<td style="text-align:center;">
20448.040
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1992
</td>
<td style="text-align:center;">
20894.046
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
1997
</td>
<td style="text-align:center;">
24024.175
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
2002
</td>
<td style="text-align:center;">
26938.778
</td>
</tr>
<tr>
<td style="text-align:center;">
Oceania
</td>
<td style="text-align:center;">
2007
</td>
<td style="text-align:center;">
29810.188
</td>
</tr>
</tbody>
</table>
</div>
<div id="unordered-plot-of-mean-gdppercap-vs-year-for-each-continent" class="section level3">
<h3>Unordered Plot of Mean gdpPerCap vs Year for Each Continent</h3>
<pre class="r"><code>ggplot(gg_gap,aes(year,mean_gdpPercap,color=continent))+
  geom_line(size=1.25)+
  theme(
        plot.title = element_text(color=&quot;grey40&quot;, size=18, face=&quot;bold.italic&quot;),
        axis.title.x = element_text(color=&quot;grey40&quot;, size=14, 
                                    face=&quot;bold&quot;,hjust=0.5),
        axis.title.y = element_text(color=&quot;grey40&quot;, size=14,
                                    face=&quot;bold&quot;,vjust=0.5),
        axis.ticks.y = element_blank(),
        axis.text.x = element_text(angle = 0)
        )+
  scale_y_continuous(breaks=seq(0,30000,5000),
                     limits = c(0,30000))+
  xlab(&quot;Year&quot;)+
  ylab(&quot;Mean GDP Per Capita&quot;)+
  ggtitle(&quot;Unordered Plot of Mean GDP Per Capita&quot;)</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="ordered-plot-of-mean-gdppercap-vs-year-for-each-continent" class="section level3">
<h3>Ordered Plot of Mean gdpPerCap vs Year for Each Continent</h3>
<pre class="r"><code>ggplot(gg_gap, aes(x = year, y = mean_gdpPercap,
                  color = fct_reorder2(continent, year, mean_gdpPercap))) +
  geom_line(size=1.25)+
  theme(
        plot.title = element_text(color=&quot;grey40&quot;, size=18, face=&quot;bold.italic&quot;),
        axis.title.x = element_text(color=&quot;grey40&quot;, size=14, 
                                    face=&quot;bold&quot;,hjust=0.5),
        axis.title.y = element_text(color=&quot;grey40&quot;, size=14,
                                    face=&quot;bold&quot;,vjust=0.5),
        axis.ticks.y = element_blank(),
        axis.text.x = element_text(angle = 0)
        )+
  scale_y_continuous(breaks=seq(0,30000,5000),
                     limits = c(0,30000))+
  labs(x=&quot;Year&quot;,y=&quot;Mean GDP Per Capita&quot;,color = &quot;continent&quot;)+
  ggtitle(&quot;Ordered Plot of Mean GDP Per Capita&quot;)</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
<div id="factor-relevel" class="section level3">
<h3>Factor Relevel</h3>
<p>In order to just hoist one or more levels manually, we can use fct_relevel() function.</p>
<pre class="r"><code>gg_gap$continent %&gt;% levels()</code></pre>
<pre><code>## [1] &quot;Africa&quot;   &quot;Americas&quot; &quot;Asia&quot;     &quot;Europe&quot;   &quot;Oceania&quot;</code></pre>
<pre class="r"><code>gg_gap$continent %&gt;% fct_relevel(&quot;Asia&quot;) %&gt;% levels()</code></pre>
<pre><code>## [1] &quot;Asia&quot;     &quot;Africa&quot;   &quot;Americas&quot; &quot;Europe&quot;   &quot;Oceania&quot;</code></pre>
<pre class="r"><code>gg_gap$continent %&gt;% fct_relevel(&quot;Oceania&quot;,&quot;Americas&quot;) %&gt;% levels()</code></pre>
<pre><code>## [1] &quot;Oceania&quot;  &quot;Americas&quot; &quot;Africa&quot;   &quot;Asia&quot;     &quot;Europe&quot;</code></pre>
</div>
<div id="factor-recode" class="section level3">
<h3>Factor Recode</h3>
<p>Change the names of the levels..</p>
<pre class="r"><code>fct_recode(gg_gap$continent,North_America=&quot;Americas&quot;,Australia=&quot;Oceania&quot;)%&gt;%
  levels()</code></pre>
<pre><code>## [1] &quot;Africa&quot;        &quot;North_America&quot; &quot;Asia&quot;          &quot;Europe&quot;       
## [5] &quot;Australia&quot;</code></pre>
<p>Use NULL to remove a particular level.</p>
<pre class="r"><code>fct_recode(gg_gap$continent,NULL=&quot;Americas&quot;)%&gt;%
  levels()</code></pre>
<pre><code>## [1] &quot;Africa&quot;  &quot;Asia&quot;    &quot;Europe&quot;  &quot;Oceania&quot;</code></pre>
</div>
<div id="effects-of-arrange" class="section level3">
<h3>Effects of arrange</h3>
<p>Now lets take the dataset of mean values of gdpPercap,lifeExp and population for each country in Africa continent.</p>
<pre class="r"><code>gap_le &lt;- gapminder%&gt;%
                filter(continent==&quot;Africa&quot;)%&gt;%
                group_by(country)%&gt;%
                summarize(mean_gdpPercap=mean(gdpPercap),
                          mean_pop=mean(pop),
                          mean_lifeExp=mean(lifeExp))
gap_le%&gt;%
  arrange(desc(mean_gdpPercap))%&gt;%
  tableFormat(&quot;Mean Values for Countries in Africa&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-size: 14px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
Mean Values for Countries in Africa
</caption>
<thead>
<tr>
<th style="text-align:center;">
country
</th>
<th style="text-align:center;">
mean_gdpPercap
</th>
<th style="text-align:center;">
mean_pop
</th>
<th style="text-align:center;">
mean_lifeExp
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
Libya
</td>
<td style="text-align:center;">
12013.5792
</td>
<td style="text-align:center;">
3166803.6
</td>
<td style="text-align:center;">
59.30417
</td>
</tr>
<tr>
<td style="text-align:center;">
Gabon
</td>
<td style="text-align:center;">
11529.8655
</td>
<td style="text-align:center;">
795415.4
</td>
<td style="text-align:center;">
51.22050
</td>
</tr>
<tr>
<td style="text-align:center;">
South Africa
</td>
<td style="text-align:center;">
7247.4311
</td>
<td style="text-align:center;">
29928352.2
</td>
<td style="text-align:center;">
53.99317
</td>
</tr>
<tr>
<td style="text-align:center;">
Botswana
</td>
<td style="text-align:center;">
5031.5036
</td>
<td style="text-align:center;">
971186.2
</td>
<td style="text-align:center;">
54.59750
</td>
</tr>
<tr>
<td style="text-align:center;">
Reunion
</td>
<td style="text-align:center;">
4898.3984
</td>
<td style="text-align:center;">
518497.8
</td>
<td style="text-align:center;">
66.64425
</td>
</tr>
<tr>
<td style="text-align:center;">
Mauritius
</td>
<td style="text-align:center;">
4768.9422
</td>
<td style="text-align:center;">
926072.2
</td>
<td style="text-align:center;">
64.95325
</td>
</tr>
<tr>
<td style="text-align:center;">
Algeria
</td>
<td style="text-align:center;">
4426.0260
</td>
<td style="text-align:center;">
19875406.2
</td>
<td style="text-align:center;">
59.03017
</td>
</tr>
<tr>
<td style="text-align:center;">
Namibia
</td>
<td style="text-align:center;">
3675.5821
</td>
<td style="text-align:center;">
1157849.8
</td>
<td style="text-align:center;">
53.49133
</td>
</tr>
<tr>
<td style="text-align:center;">
Angola
</td>
<td style="text-align:center;">
3607.1005
</td>
<td style="text-align:center;">
7309390.1
</td>
<td style="text-align:center;">
37.88350
</td>
</tr>
<tr>
<td style="text-align:center;">
Tunisia
</td>
<td style="text-align:center;">
3477.2104
</td>
<td style="text-align:center;">
6686770.2
</td>
<td style="text-align:center;">
60.72100
</td>
</tr>
<tr>
<td style="text-align:center;">
Congo, Rep.
</td>
<td style="text-align:center;">
3312.7882
</td>
<td style="text-align:center;">
1923209.1
</td>
<td style="text-align:center;">
52.50192
</td>
</tr>
<tr>
<td style="text-align:center;">
Swaziland
</td>
<td style="text-align:center;">
3163.3524
</td>
<td style="text-align:center;">
679052.0
</td>
<td style="text-align:center;">
49.00242
</td>
</tr>
<tr>
<td style="text-align:center;">
Egypt
</td>
<td style="text-align:center;">
3074.0307
</td>
<td style="text-align:center;">
46522774.2
</td>
<td style="text-align:center;">
56.24300
</td>
</tr>
<tr>
<td style="text-align:center;">
Djibouti
</td>
<td style="text-align:center;">
2697.8332
</td>
<td style="text-align:center;">
260243.9
</td>
<td style="text-align:center;">
46.38075
</td>
</tr>
<tr>
<td style="text-align:center;">
Equatorial Guinea
</td>
<td style="text-align:center;">
2469.1667
</td>
<td style="text-align:center;">
327551.0
</td>
<td style="text-align:center;">
42.96000
</td>
</tr>
<tr>
<td style="text-align:center;">
Morocco
</td>
<td style="text-align:center;">
2447.9089
</td>
<td style="text-align:center;">
20555741.9
</td>
<td style="text-align:center;">
57.60883
</td>
</tr>
<tr>
<td style="text-align:center;">
Cote d’Ivoire
</td>
<td style="text-align:center;">
1912.8254
</td>
<td style="text-align:center;">
9153109.5
</td>
<td style="text-align:center;">
48.43617
</td>
</tr>
<tr>
<td style="text-align:center;">
Sudan
</td>
<td style="text-align:center;">
1835.0104
</td>
<td style="text-align:center;">
21560331.4
</td>
<td style="text-align:center;">
48.40050
</td>
</tr>
<tr>
<td style="text-align:center;">
Cameroon
</td>
<td style="text-align:center;">
1774.6342
</td>
<td style="text-align:center;">
9816648.4
</td>
<td style="text-align:center;">
48.12850
</td>
</tr>
<tr>
<td style="text-align:center;">
Senegal
</td>
<td style="text-align:center;">
1533.1217
</td>
<td style="text-align:center;">
6446305.4
</td>
<td style="text-align:center;">
50.62592
</td>
</tr>
<tr>
<td style="text-align:center;">
Nigeria
</td>
<td style="text-align:center;">
1488.3094
</td>
<td style="text-align:center;">
73708017.8
</td>
<td style="text-align:center;">
43.58133
</td>
</tr>
<tr>
<td style="text-align:center;">
Sao Tome and Principe
</td>
<td style="text-align:center;">
1382.7820
</td>
<td style="text-align:center;">
105977.8
</td>
<td style="text-align:center;">
57.89633
</td>
</tr>
<tr>
<td style="text-align:center;">
Zambia
</td>
<td style="text-align:center;">
1358.1994
</td>
<td style="text-align:center;">
6353804.8
</td>
<td style="text-align:center;">
45.99633
</td>
</tr>
<tr>
<td style="text-align:center;">
Mauritania
</td>
<td style="text-align:center;">
1356.6710
</td>
<td style="text-align:center;">
1782723.8
</td>
<td style="text-align:center;">
52.30208
</td>
</tr>
<tr>
<td style="text-align:center;">
Madagascar
</td>
<td style="text-align:center;">
1335.5950
</td>
<td style="text-align:center;">
9902402.2
</td>
<td style="text-align:center;">
47.77058
</td>
</tr>
<tr>
<td style="text-align:center;">
Comoros
</td>
<td style="text-align:center;">
1314.3803
</td>
<td style="text-align:center;">
361683.9
</td>
<td style="text-align:center;">
52.38175
</td>
</tr>
<tr>
<td style="text-align:center;">
Kenya
</td>
<td style="text-align:center;">
1200.4157
</td>
<td style="text-align:center;">
18206250.2
</td>
<td style="text-align:center;">
52.68100
</td>
</tr>
<tr>
<td style="text-align:center;">
Chad
</td>
<td style="text-align:center;">
1165.4537
</td>
<td style="text-align:center;">
5329256.3
</td>
<td style="text-align:center;">
46.77358
</td>
</tr>
<tr>
<td style="text-align:center;">
Benin
</td>
<td style="text-align:center;">
1155.3951
</td>
<td style="text-align:center;">
4017496.7
</td>
<td style="text-align:center;">
48.77992
</td>
</tr>
<tr>
<td style="text-align:center;">
Togo
</td>
<td style="text-align:center;">
1153.8201
</td>
<td style="text-align:center;">
2895964.0
</td>
<td style="text-align:center;">
51.49875
</td>
</tr>
<tr>
<td style="text-align:center;">
Somalia
</td>
<td style="text-align:center;">
1140.7933
</td>
<td style="text-align:center;">
5197197.8
</td>
<td style="text-align:center;">
40.98867
</td>
</tr>
<tr>
<td style="text-align:center;">
Sierra Leone
</td>
<td style="text-align:center;">
1072.8195
</td>
<td style="text-align:center;">
3605424.9
</td>
<td style="text-align:center;">
36.76917
</td>
</tr>
<tr>
<td style="text-align:center;">
Ghana
</td>
<td style="text-align:center;">
1044.5820
</td>
<td style="text-align:center;">
12616626.4
</td>
<td style="text-align:center;">
52.34067
</td>
</tr>
<tr>
<td style="text-align:center;">
Central African Republic
</td>
<td style="text-align:center;">
958.7847
</td>
<td style="text-align:center;">
2560963.0
</td>
<td style="text-align:center;">
43.86692
</td>
</tr>
<tr>
<td style="text-align:center;">
Tanzania
</td>
<td style="text-align:center;">
849.2813
</td>
<td style="text-align:center;">
20499497.7
</td>
<td style="text-align:center;">
47.91233
</td>
</tr>
<tr>
<td style="text-align:center;">
Burkina Faso
</td>
<td style="text-align:center;">
843.9907
</td>
<td style="text-align:center;">
7548677.2
</td>
<td style="text-align:center;">
44.69400
</td>
</tr>
<tr>
<td style="text-align:center;">
Uganda
</td>
<td style="text-align:center;">
810.3838
</td>
<td style="text-align:center;">
14361049.4
</td>
<td style="text-align:center;">
47.61883
</td>
</tr>
<tr>
<td style="text-align:center;">
Niger
</td>
<td style="text-align:center;">
781.0768
</td>
<td style="text-align:center;">
6857373.8
</td>
<td style="text-align:center;">
44.55867
</td>
</tr>
<tr>
<td style="text-align:center;">
Lesotho
</td>
<td style="text-align:center;">
780.5534
</td>
<td style="text-align:center;">
1389696.4
</td>
<td style="text-align:center;">
50.00708
</td>
</tr>
<tr>
<td style="text-align:center;">
Guinea
</td>
<td style="text-align:center;">
776.0673
</td>
<td style="text-align:center;">
5360550.7
</td>
<td style="text-align:center;">
43.23983
</td>
</tr>
<tr>
<td style="text-align:center;">
Gambia
</td>
<td style="text-align:center;">
680.1326
</td>
<td style="text-align:center;">
793138.6
</td>
<td style="text-align:center;">
44.40058
</td>
</tr>
<tr>
<td style="text-align:center;">
Rwanda
</td>
<td style="text-align:center;">
675.6690
</td>
<td style="text-align:center;">
5298435.7
</td>
<td style="text-align:center;">
41.48158
</td>
</tr>
<tr>
<td style="text-align:center;">
Mali
</td>
<td style="text-align:center;">
673.0931
</td>
<td style="text-align:center;">
7112340.1
</td>
<td style="text-align:center;">
43.41350
</td>
</tr>
<tr>
<td style="text-align:center;">
Guinea-Bissau
</td>
<td style="text-align:center;">
652.1572
</td>
<td style="text-align:center;">
882008.4
</td>
<td style="text-align:center;">
39.21025
</td>
</tr>
<tr>
<td style="text-align:center;">
Congo, Dem. Rep.
</td>
<td style="text-align:center;">
648.3426
</td>
<td style="text-align:center;">
32681655.2
</td>
<td style="text-align:center;">
44.54375
</td>
</tr>
<tr>
<td style="text-align:center;">
Zimbabwe
</td>
<td style="text-align:center;">
635.8580
</td>
<td style="text-align:center;">
7641966.1
</td>
<td style="text-align:center;">
52.66317
</td>
</tr>
<tr>
<td style="text-align:center;">
Liberia
</td>
<td style="text-align:center;">
604.8141
</td>
<td style="text-align:center;">
1813857.2
</td>
<td style="text-align:center;">
42.47625
</td>
</tr>
<tr>
<td style="text-align:center;">
Malawi
</td>
<td style="text-align:center;">
575.4472
</td>
<td style="text-align:center;">
7016377.4
</td>
<td style="text-align:center;">
43.35158
</td>
</tr>
<tr>
<td style="text-align:center;">
Mozambique
</td>
<td style="text-align:center;">
542.2783
</td>
<td style="text-align:center;">
12046695.3
</td>
<td style="text-align:center;">
40.37950
</td>
</tr>
<tr>
<td style="text-align:center;">
Eritrea
</td>
<td style="text-align:center;">
541.0025
</td>
<td style="text-align:center;">
2820216.8
</td>
<td style="text-align:center;">
45.99925
</td>
</tr>
<tr>
<td style="text-align:center;">
Ethiopia
</td>
<td style="text-align:center;">
509.1152
</td>
<td style="text-align:center;">
41632518.8
</td>
<td style="text-align:center;">
44.47575
</td>
</tr>
<tr>
<td style="text-align:center;">
Burundi
</td>
<td style="text-align:center;">
471.6630
</td>
<td style="text-align:center;">
4651608.3
</td>
<td style="text-align:center;">
44.81733
</td>
</tr>
</tbody>
</table>
</div>
<div id="unordered-plot" class="section level3">
<h3>Unordered Plot</h3>
<p>Lets plot mean gdpPercap of each country in Africa without ordering the factor variable country.</p>
<pre class="r"><code>unordered_plot&lt;- 
  gap_le%&gt;%
    arrange(desc(mean_gdpPercap))%&gt;%
    ggplot(aes(country,mean_gdpPercap))+
      geom_point(color=&quot;blue&quot;)+ 
      theme(
        plot.title = element_text(color=&quot;grey40&quot;, size=18, face=&quot;bold.italic&quot;),
        axis.text.x = element_text(angle = 90,vjust = 0.5, hjust = 1),
        axis.title.x = element_text(color=&quot;grey40&quot;, size=14, face=&quot;bold.italic&quot;),
        axis.title.y = element_text(color=&quot;grey40&quot;, size=14, face=&quot;bold.italic&quot;),
        axis.ticks = element_blank()
        )+
      scale_y_continuous(breaks=seq(0,12500,1250),
                     limits = c(0,12500))+
      labs(x=&quot;Countries in Africa&quot;,y=&quot;Mean GDP Per Capita&quot;)+
      ggtitle(&quot;Unordered Plot of Mean gdpPerCapita in Africa&quot;)
unordered_plot</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
</div>
<div id="reordering-with-base-r-function" class="section level3">
<h3>Reordering with Base R function</h3>
<p><br\> Lets reorder the country variable based on decreasing value of mean_gdpPercap</p>
<pre class="r"><code>#Base R function order()
gap_le$country&lt;-factor(gap_le$country,
                         levels = gap_le$country[order(gap_le$mean_gdpPercap,
                                                         decreasing = TRUE)],
                         ordered=TRUE)
baseR_plot&lt;-
  ggplot(gap_le,aes(country,mean_gdpPercap))+
    geom_point(color=&quot;blue&quot;)+ 
    theme(
        plot.title = element_text(color=&quot;grey40&quot;, size=18, face=&quot;bold.italic&quot;),
        axis.text.x = element_text(angle = 90,vjust = 0.5, hjust = 1),
        axis.title.x = element_text(color=&quot;grey40&quot;, size=14, face=&quot;bold.italic&quot;),
        axis.title.y = element_text(color=&quot;grey40&quot;, size=14, face=&quot;bold.italic&quot;),
        axis.ticks = element_blank()
        )+
    scale_y_continuous(breaks=seq(0,12500,1250),
                     limits = c(0,12500))+
    labs(x=&quot;Countries in Africa&quot;,y=&quot;Mean GDP Per Capita&quot;)+
    ggtitle(&quot;Ordered Plot of Mean gdpPerCapita(Base R)&quot;)

baseR_plot</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
<div id="reordering-with-forcats" class="section level3">
<h3>Reordering with Forcats</h3>
<p><br\> Lets reorder the country variable based on decreasing value of mean_gdpPercap using fct_reorder() from forcats package.</p>
<pre class="r"><code>#forcats function fct_reorder()
forcats_plot &lt;-
  gap_le %&gt;%
    ggplot(aes(x=fct_reorder(country,mean_gdpPercap,.desc=TRUE),
             y=mean_gdpPercap))+
      geom_point(color=&quot;blue&quot;)+ 
      theme(
        plot.title = element_text(color=&quot;grey40&quot;, size=18, face=&quot;bold.italic&quot;),
        axis.text.x = element_text(angle = 90,vjust = 0.5, hjust = 1),
        axis.title.x = element_text(color=&quot;grey40&quot;, size=14, face=&quot;bold.italic&quot;),
        axis.title.y = element_text(color=&quot;grey40&quot;, size=14, face=&quot;bold.italic&quot;),
        axis.ticks = element_blank()
        )+
      scale_y_continuous(breaks=seq(0,12500,1250),
                     limits = c(0,12500))+
      labs(x=&quot;Countries in Africa&quot;,y=&quot;Mean GDP Per Capita&quot;)+
      ggtitle(&quot;Ordered Plot of Mean gdpPerCapita (Forcats)&quot;)
forcats_plot</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<p><strong>Explore the effects of arrange(). Does merely arranging the data have any effect on, say, a figure?</strong></p>
<p>Arrange() function is helpful to sort the numeric variables. But in case of factors it is not sufficient to reorder the data. As seen above with h_gap plot, the country variable was not reordered in the ggplot according to mean_pop even after using arrange(mean_pop). This shows that merely arranging the data is not sufficient for reordering the factors. For this purpose, functions from base R or forcats package need to be used.</p>
<p><strong>Explore the effects of reordering a factor and factor reordering coupled with arrange().Especially, what effect does this have on a figure?</strong></p>
<p>As mentioned above, arrange() works pretty well for sorting numeric variables. For re ordering factor variables we need to use other functions from base R or forcats package. When they are coupled the data from the table and plots go hand in hand and are easier to understand and interpret.</p>
<blockquote>
<p>The above answer is supported by tables and plots above.</p>
</blockquote>
<div id="resources" class="section level4">
<h4>Resources</h4>
<ul>
<li><a href="https://cran.r-project.org/web/packages/forcats/forcats.pdf">forcats manual</a></li>
<li><a href="https://www.stat.berkeley.edu/classes/s133/factors.html">Factors in R</a></li>
<li><a href="https://blog.rstudio.com/2016/08/31/forcats-0-1-0/">Forcats Blog</a></li>
<li><a href="http://r4ds.had.co.nz/factors.html">R for Datascience</a></li>
</ul>
</div>
</div>
</div>
<div id="task-2" class="section level2">
<h2>Task 2</h2>
<div id="file-io" class="section level3">
<h3>File I/O</h3>
<p>Lets filter the gapminder dataset for countries in Asia and for 2007 year .</p>
<pre class="r"><code>gap_asia&lt;- gapminder%&gt;%
              filter(continent==&quot;Asia&quot; &amp; year ==2007)</code></pre>
<p>Lets reorder the country variable by mean of population</p>
<pre class="r"><code>gap_asia$country&lt;- fct_reorder(gap_asia$country, gap_asia$pop, mean) 

gap_asia$country%&gt;%
  levels()%&gt;%
  head()</code></pre>
<pre><code>## [1] &quot;Bahrain&quot;            &quot;Kuwait&quot;             &quot;Mongolia&quot;          
## [4] &quot;Oman&quot;               &quot;Lebanon&quot;            &quot;West Bank and Gaza&quot;</code></pre>
</div>
<div id="write.csv-and-read.csv" class="section level3">
<h3>write.csv() and read.csv()</h3>
<p>Now lets write this dataset to a csv file and save it.</p>
<pre class="r"><code>write.csv(gap_asia,&quot;hw05_gapminder_files\\gap_asia.csv&quot;)</code></pre>
<p>Next up,Lets read this csv file into asia data frame</p>
<pre class="r"><code>asia&lt;-read.csv(&quot;hw05_gapminder_files\\gap_asia.csv&quot;)</code></pre>
<p>Lets check if the reordering of factors is still present.</p>
<p>_Note: rm() is used to free the memory space by removing the dataframe. The csv file is also deleted to avoid overwriting using unlink() function.</p>
<pre class="r"><code>asia$country%&gt;%
  levels()%&gt;%
  head()</code></pre>
<pre><code>## [1] &quot;Afghanistan&quot;      &quot;Bahrain&quot;          &quot;Bangladesh&quot;      
## [4] &quot;Cambodia&quot;         &quot;China&quot;            &quot;Hong Kong, China&quot;</code></pre>
<pre class="r"><code>gap_asia$country%&gt;%
  levels()%&gt;%
  head()</code></pre>
<pre><code>## [1] &quot;Bahrain&quot;            &quot;Kuwait&quot;             &quot;Mongolia&quot;          
## [4] &quot;Oman&quot;               &quot;Lebanon&quot;            &quot;West Bank and Gaza&quot;</code></pre>
<pre class="r"><code>rm(asia)
unlink(&quot;gap_asia.csv&quot;)</code></pre>
<p>The order of the factors is not same. This shows that the reordering doesnt survive the round trip of writing to csv and reading back.</p>
</div>
<div id="write_csv-and-read_csv" class="section level3">
<h3>write_csv() and read_csv()</h3>
<pre class="r"><code>write_csv(gap_asia,&quot;hw05_gapminder_files\\gap_asia.csv&quot;)
asia&lt;-read_csv(&quot;hw05_gapminder_files\\gap_asia.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   country = col_character(),
##   continent = col_character(),
##   year = col_integer(),
##   lifeExp = col_double(),
##   pop = col_integer(),
##   gdpPercap = col_double()
## )</code></pre>
<pre class="r"><code>class(asia$continent)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>rm(asia)</code></pre>
<p>This returns NULL for the levels because the class of continent is now character and not factor anymore. This happens because read_csv() doesnt convert strings to factors unlike read.csv(). Instead, it is guessing the column specification of each variable when reading which is printed as well.So in this case, the class of the variable is itself not factor let alone keep reordering intact.</p>
</div>
<div id="saverds-and-readrds" class="section level3">
<h3>saveRDS() and readRDS()</h3>
<pre class="r"><code>saveRDS(gap_asia,&quot;hw05_gapminder_files\\gap_asia.rds&quot;)
asia&lt;-readRDS(&quot;hw05_gapminder_files\\gap_asia.rds&quot;)

asia$country%&gt;%
  levels()%&gt;%
  head()</code></pre>
<pre><code>## [1] &quot;Bahrain&quot;            &quot;Kuwait&quot;             &quot;Mongolia&quot;          
## [4] &quot;Oman&quot;               &quot;Lebanon&quot;            &quot;West Bank and Gaza&quot;</code></pre>
<pre class="r"><code>gap_asia$country%&gt;%
  levels()%&gt;%
  head()</code></pre>
<pre><code>## [1] &quot;Bahrain&quot;            &quot;Kuwait&quot;             &quot;Mongolia&quot;          
## [4] &quot;Oman&quot;               &quot;Lebanon&quot;            &quot;West Bank and Gaza&quot;</code></pre>
<pre class="r"><code>rm(asia)</code></pre>
<p>The order of the factor variable is retained. This shows that saving as .rds file and reading it back keeps the ordering of factor variable intact.</p>
</div>
<div id="dput-and-dget" class="section level3">
<h3>dput() and dget()</h3>
<pre class="r"><code>dput(gap_asia,&quot;hw05_gapminder_files\\random_name&quot;)
asia&lt;-dget(&quot;hw05_gapminder_files\\random_name&quot;)
asia$country%&gt;%
  levels()%&gt;%
  head()</code></pre>
<pre><code>## [1] &quot;Bahrain&quot;            &quot;Kuwait&quot;             &quot;Mongolia&quot;          
## [4] &quot;Oman&quot;               &quot;Lebanon&quot;            &quot;West Bank and Gaza&quot;</code></pre>
<p>This works and it saves the data as in a text file with a representation that remembers the ordering of the factor levels.</p>
<div id="resources-1" class="section level4">
<h4>Resources</h4>
<ul>
<li><a href="http://r.789695.n4.nabble.com/Retrieving-Factors-with-Levels-Ordered-td3169990.html">Retrieving ordered factors</a></li>
<li><a href="http://www.fromthebottomoftheheap.net/2012/04/01/saving-and-loading-r-objects/">Saving &amp; Loading objects</a></li>
<li><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/unlink.html">Delete files</a></li>
<li><a href="https://blog.rstudio.com/2016/08/05/readr-1-0-0/">readr</a></li>
</ul>
</div>
</div>
</div>
<div id="task-3" class="section level2">
<h2>Task 3</h2>
<div id="visualization-design" class="section level3">
<h3>Visualization Design</h3>
<p>Lets take the plot of lifeExp of countries over time facetted by continent. I had used this plot in the <a href="http://htmlpreview.github.io/?https://github.com/abishekarun/STAT545-hw-rajendran-arun/blob/master/hw03/hw03_gapminder.html">third homework</a></p>
<pre class="r"><code>ggplot(gapminder,aes(year,lifeExp,group=country))+
  geom_line()+
  facet_wrap(~continent)</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<p>The <code>RColorBrewer</code> is a nice R package, based on designs by Cynthia Brewer, a colour expert. Here are the palettes available:</p>
<pre class="r"><code>library(RColorBrewer)
#display.brewer.all()</code></pre>
<p>Now lets modify this plot and report the changes made.</p>
<pre class="r"><code>colorder &lt;- c(unique(gapminder$year))

gapminder %&gt;%
  group_by(country) %&gt;%
  mutate(mean_lifeExp=mean(lifeExp)) %&gt;%
  ggplot(aes(year,lifeExp))+
    geom_line(aes(group=country,color=mean_lifeExp),alpha=0.5)+
    facet_wrap(~continent)+
    theme_bw()+
    ggtitle(&quot;Plot of lifeExp vs year for Continent&quot;)+
    theme(
      plot.title = element_text(hjust = 0.5,vjust=1,color = &quot;red&quot;,
                                size=&quot;18&quot;,face=&quot;bold.italic&quot;),
      axis.title.x = element_text(color=&quot;green&quot;, size=12, face=&quot;bold&quot;),
      axis.title.y = element_text(color=&quot;grey&quot;, size=14, face=&quot;bold&quot;),
      axis.text.x = element_text(angle = 90,vjust=0.5,hjust=1),
      legend.position = c(0.9,0.1)
    )+
    scale_x_discrete(limits=colorder,
                     breaks=colorder,
                     labels=as.character(colorder))+
    scale_colour_distiller(palette=&quot;Purples&quot;, direction=1)+
    expand_limits(x = c(1950,2010))</code></pre>
<p><img src="hw05_gapminder_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
<p>The changes made are - Color each country lifeExp by the mean of lifeExp experienced by the country - The value of alpha(transparency) is set to 0.5 for better visualization. - The country grouping is embedded inside the geom_line aesthetic. - theme_bw is applied for better graphics. - The title is included using ggtitle and its theme is modified. - Similary, the theme of x and y axis title is modified - X axis labels are rotated by 90 and centered. - The legend is placed inside the graph at the right bottom using legend.position - The colorder contains the year values present in gapminder as a vector. - The labels of x axis are modified using scale_x_discrete function. - The expand_limits makes sure there is some space on either side of the graph. - The legend color palette is taken from RColorBrewer package.</p>
<div id="resources-2" class="section level4">
<h4>Resources</h4>
<ul>
<li><a href="http://sape.inf.usi.ch/quick-reference/ggplot2/colour">Color Reference</a></li>
<li><a href="http://ggplot2.tidyverse.org/reference/theme.html">Theme Components</a></li>
<li><a href="http://www.sthda.com/english/wiki/ggplot2-axis-scales-and-transformations">Axis scales &amp; Transformations</a></li>
<li><a href="https://rstudio-pubs-static.s3.amazonaws.com/3364_d1a578f521174152b46b19d0c83cbe7e.html">Axis manipulation &amp; Themes</a></li>
<li><a href="http://ggplot2.tidyverse.org/reference/expand_limits.html">expand_limits()</a></li>
<li><a href="https://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf">ggplot2 Cheatsheet</a></li>
</ul>
</div>
</div>
</div>
<div id="task-4" class="section level2">
<h2>Task 4</h2>
<div id="writing-figures-to-files" class="section level3">
<h3>Writing Figures to Files</h3>
<p>Earlier we had saved three plots to variables namely, unordered_plot, baseR_plot and forcats_plot. Now lets try saving these to figures to files.</p>
<p>When we use ggsave() function without mentioning the plot name, it saves the last plot.</p>
<pre class="r"><code>ggsave(&#39;unordered.jpg&#39;,
      path=&#39;hw05_gapminder_files\\&#39;)</code></pre>
<pre><code>## Saving 7 x 5 in image</code></pre>
<p><img src="hw05_gapminder_files/unordered.jpg"></p>
<p>This clearly shows that it saves the last plot by default.Instead we can save the plots by mentioning their name as the next argument ‘plot’. Thus this argument is extremely useful if you are saving a plot by mentioning its name and it will work perfectly even if it is not the last plot.</p>
<p>Vector Graphics Format(‘eps’ and ‘pdf’) &gt; Vector graphics formats, which store an image as a series of lines of specified shape, color, and size between relative points in a space. Thus the image is rendered by drawing each of those vectors from the instructions encoded in the file. Vector graphics look sharp at any size because the vectors are simply drawn larger or smaller, depending on the requested size of the image.</p>
<pre class="r"><code>ggsave(&#39;unordered_plot.pdf&#39;,device=&#39;pdf&#39;,plot = unordered_plot,
      path=&#39;hw05_gapminder_files\\vector_format_files\\&#39;)</code></pre>
<pre><code>## Saving 7 x 5 in image</code></pre>
<pre class="r"><code>ggsave(&#39;baseR_plot.eps&#39;,plot = baseR_plot,
      path=&#39;hw05_gapminder_files\\vector_format_files\\&#39;)</code></pre>
<pre><code>## Saving 7 x 5 in image</code></pre>
<pre class="r"><code>ggsave(&#39;forcats_plot.pdf&#39;,plot = forcats_plot,
      path=&#39;hw05_gapminder_files\\vector_format_files\\&#39;)</code></pre>
<pre><code>## Saving 7 x 5 in image</code></pre>
<p>The files are <a href="https://github.com/abishekarun/STAT545-hw-rajendran-arun/tree/master/hw05/hw05_gapminder_files/vector_format_files/unordered_plot.pdf">unordered_plot.pdf</a>, <a href="https://github.com/abishekarun/STAT545-hw-rajendran-arun/tree/master/hw05/hw05_gapminder_files/vector_format_files/baseR_plot.eps">baseR_plot.eps</a> and <a href="https://github.com/abishekarun/STAT545-hw-rajendran-arun/tree/master/hw05/hw05_gapminder_files/vector_format_files/forcats_plot.pdf">forcats_plot.pdf</a></p>
<p>Raster Graphics Format() &gt; Raster graphics, like TIFF, BMP, JPEG, and GIF. Unlike vector graphics, raster graphics are stored as a matrix of colored pixels.</p>
<p>The tiff format is the best raster format as it helps keep the high end graphics of image intact to some extent.</p>
<blockquote>
<p>When a vector graphic format is not available or for some reason not accepted, graphics need to be saved as high-resolution TIFF files of an appropriate size in order to avoid the grainy or pixelated images sometimes found in journals.</p>
</blockquote>
<pre class="r"><code>ggsave(&#39;unordered_plot.tiff&#39;,plot = unordered_plot,
      path=&#39;hw05_gapminder_files\\raster_format_files\\&#39;,
      dpi=600,height=5,width=10)</code></pre>
<p><img src="hw05_gapminder_files/raster_format_files/unordered_plot.tiff"></p>
<p>The height and width of the image in terms of pixels is product of the parameters with dpi value. And the value of dpi directly affects the size of non plot elements such as text. The higher the resolution the better the text is.</p>
<pre class="r"><code>res&lt;-60
ggsave(&#39;baseR_plot1.png&#39;,plot = baseR_plot,
      path=&#39;hw05_gapminder_files\\raster_format_files\\&#39;,
       width=800/res, height=800/res,units = &#39;in&#39;, dpi = res)

res&lt;-100
ggsave(&#39;baseR_plot2.png&#39;,plot = baseR_plot,
      path=&#39;hw05_gapminder_files\\raster_format_files\\&#39;,
       width=800/res, height=800/res,units = &#39;in&#39;, dpi = res)</code></pre>
<p><img src="hw05_gapminder_files/raster_format_files/baseR_plot1.png"></p>
<p><img src="hw05_gapminder_files/raster_format_files/baseR_plot2.png"></p>
<div id="resources-3" class="section level4">
<h4>Resources</h4>
<ul>
<li><a href="https://stackoverflow.com/questions/26551359/r-ggsave-save-thumbnail-size-200-x-200-scaled-image">Text Factor</a></li>
<li><a href="https://www.stat.ubc.ca/~jenny/STAT545A/topic12_writeFigureToFile.html">Write figure to file</a></li>
<li><a href="https://thepoliticalmethodologist.com/2013/11/25/making-high-resolution-graphics-for-academic-publishing/">High Resoultion graphics</a></li>
</ul>
</div>
</div>
</div>
<div id="task-5" class="section level2">
<h2>Task 5</h2>
<div id="cleaning-up-the-repo" class="section level3">
<h3>Cleaning up the Repo</h3>
<p>For cleaning the repositories following actions were taken</p>
<ol style="list-style-type: decimal">
<li>All the homeworks were organized in a single repository and each one has its own folder.</li>
<li>Each homework has a readme file explainging the concepts covered in that particular homework.</li>
<li>Each homework folder has a hw0x_gapminder_files folder containing the extra files such as images,table files,csv files etc.</li>
<li>The main readme file has the link to navigate to each of these homework folders.</li>
</ol>
</div>
</div>
<div id="task-6" class="section level2">
<h2>Task 6</h2>
<div id="but-i-want-to-do-more" class="section level3">
<h3>But I want to do more</h3>
<p>Lets create a filtered dataset for this activity</p>
<pre class="r"><code># !diagnostics off
country_list&lt;- c(&quot;Austria&quot;,&quot;Germany&quot;,&quot;Mexico&quot;,&quot;Argentina&quot;,&quot;Spain&quot;,&quot;Portugal&quot;
                 ,&quot;Brazil&quot;,&quot;Australia&quot;,&quot;New Zealand&quot;,&quot;Canada&quot;)
languages&lt;-c(rep(&quot;German&quot;,2),rep(&quot;Spanish&quot;,3),
             rep(&quot;Portugese&quot;,3),rep(&quot;English&quot;,3))
gap_six&lt;-subset(gapminder,country%in%country_list)

suppressWarnings(suppressMessages(
  gap_six$language&lt;-cbind(gap_six$language,
                        languages[match(gap_six$country,country_list)]
                        )
))
gap_six$language&lt;-as.factor(gap_six$language)
levels(gap_six$language)</code></pre>
<pre><code>## [1] &quot;English&quot;   &quot;German&quot;    &quot;Portugese&quot; &quot;Spanish&quot;</code></pre>
</div>
<div id="reordering-levels-of-factor-variables-1" class="section level3">
<h3>Reordering levels of factor variables</h3>
<p>We order language by frequency, forwards and backwards.</p>
<pre class="r"><code>fct_count(gap_six$language)</code></pre>
<pre><code>## # A tibble: 4 × 2
##           f     n
##      &lt;fctr&gt; &lt;int&gt;
## 1   English    24
## 2    German    24
## 3 Portugese    36
## 4   Spanish    36</code></pre>
<pre class="r"><code>## order by frequency (highest first)
gap_six$language %&gt;% 
  fct_infreq()%&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Portugese&quot; &quot;Spanish&quot;   &quot;English&quot;   &quot;German&quot;</code></pre>
<pre class="r"><code>## backwards!
gap_six$language %&gt;% 
  fct_infreq() %&gt;%
  fct_rev() %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;German&quot;    &quot;English&quot;   &quot;Spanish&quot;   &quot;Portugese&quot;</code></pre>
<p>Now we order language by another variable forwards and backwards. Lets use different summarizing function such as mean,median, minimum value.</p>
<pre class="r"><code>#order by median of lifeExp
fct_reorder(gap_six$language, gap_six$lifeExp) %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Spanish&quot;   &quot;Portugese&quot; &quot;German&quot;    &quot;English&quot;</code></pre>
<pre class="r"><code>#order by min of gdpPercap
fct_reorder(gap_six$language , gap_six$gdpPercap, min) %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;Portugese&quot; &quot;Spanish&quot;   &quot;German&quot;    &quot;English&quot;</code></pre>
<pre class="r"><code>#backwards
fct_reorder(gap_six$language , gap_six$lifeExp,.desc=TRUE) %&gt;% 
  levels()</code></pre>
<pre><code>## [1] &quot;English&quot;   &quot;German&quot;    &quot;Portugese&quot; &quot;Spanish&quot;</code></pre>
</div>
<div id="factor-relevel-1" class="section level3">
<h3>Factor Relevel</h3>
<p>In order to just hoist one or more levels manually, we can use fct_relevel() function.</p>
<pre class="r"><code>gap_six$language  %&gt;% levels()</code></pre>
<pre><code>## [1] &quot;English&quot;   &quot;German&quot;    &quot;Portugese&quot; &quot;Spanish&quot;</code></pre>
<pre class="r"><code>gap_six$language  %&gt;% fct_relevel(&quot;German&quot;) %&gt;% levels()</code></pre>
<pre><code>## [1] &quot;German&quot;    &quot;English&quot;   &quot;Portugese&quot; &quot;Spanish&quot;</code></pre>
<pre class="r"><code>gap_six$language %&gt;% fct_relevel(&quot;Spanish&quot;,&quot;Portugese&quot;) %&gt;% levels()</code></pre>
<pre><code>## [1] &quot;Spanish&quot;   &quot;Portugese&quot; &quot;English&quot;   &quot;German&quot;</code></pre>
</div>
<div id="factor-reverse" class="section level3">
<h3>Factor Reverse</h3>
<p>If you just want to reverse the order, there’s the fct_rev function.</p>
<pre class="r"><code>levels(gap_six$language)</code></pre>
<pre><code>## [1] &quot;English&quot;   &quot;German&quot;    &quot;Portugese&quot; &quot;Spanish&quot;</code></pre>
<pre class="r"><code>fct_rev(gap_six$language)%&gt;%levels()</code></pre>
<pre><code>## [1] &quot;Spanish&quot;   &quot;Portugese&quot; &quot;German&quot;    &quot;English&quot;</code></pre>
</div>
<div id="factor-recode-1" class="section level3">
<h3>Factor Recode</h3>
<p>Change the names of the levels..</p>
<pre class="r"><code>fct_recode(gap_six$language,Eng=&quot;English&quot;,Spa=&quot;Spanish&quot;)%&gt;%
  levels()</code></pre>
<pre><code>## [1] &quot;Eng&quot;       &quot;German&quot;    &quot;Portugese&quot; &quot;Spa&quot;</code></pre>
<p>Use NULL to remove a particular level.</p>
<pre class="r"><code>fct_recode(gap_six$language,NULL=&quot;English&quot;)%&gt;%
  levels()</code></pre>
<pre><code>## [1] &quot;German&quot;    &quot;Portugese&quot; &quot;Spanish&quot;</code></pre>
</div>
<div id="fct_unique" class="section level3">
<h3>fct_unique()</h3>
<p>Get the unique values of a factor</p>
<pre class="r"><code>unique(gap_six$language)     # in order of appearance</code></pre>
<pre><code>## [1] Spanish   Portugese German    English  
## Levels: English German Portugese Spanish</code></pre>
<pre class="r"><code>fct_unique(gap_six$language) # in order of levels</code></pre>
<pre><code>## [1] English   German    Portugese Spanish  
## Levels: English German Portugese Spanish</code></pre>
</div>
<div id="fct_expand" class="section level3">
<h3>fct_expand()</h3>
<p>Add additional levels to a factor</p>
<pre class="r"><code>fct_expand(gap_six$language,&quot;Hindi&quot;) %&gt;% levels()</code></pre>
<pre><code>## [1] &quot;English&quot;   &quot;German&quot;    &quot;Portugese&quot; &quot;Spanish&quot;   &quot;Hindi&quot;</code></pre>
</div>
<div id="fct_explicit_na" class="section level3">
<h3>fct_explicit_na()</h3>
<p>This gives missing value an explicit factor level, ensuring that they appear in summaries and on plots.</p>
<pre class="r"><code>f1 &lt;- factor(c(&quot;a&quot;, &quot;a&quot;, NA, NA, &quot;a&quot;, &quot;b&quot;, NA, &quot;c&quot;, &quot;a&quot;, &quot;c&quot;, &quot;b&quot;))
f2&lt;- fct_explicit_na(f1, na_level = &quot; (Missing) &quot;)
table(f2)</code></pre>
<pre><code>## f2
##           a           b           c  (Missing)  
##           4           2           2           3</code></pre>
<div id="resources-4" class="section level4">
<h4>Resources</h4>
<ul>
<li><a href="https://cran.r-project.org/web/packages/forcats/forcats.pdf">forcats manual</a></li>
<li><a href="http://stat.ethz.ch/R-manual/R-devel/library/base/html/cbind.html">cbind</a></li>
<li><a href="https://www.infoplease.com/languages-spoken-each-country-world">language data</a></li>
</ul>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
